(this["webpackJsonpcovid-react"]=this["webpackJsonpcovid-react"]||[]).push([[0],{11:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),r=a(12),i=a.n(r),o=a(3),d=a.n(o),l=a(9),u=a(4),h=a(5),j=a(7),f=a(6),v=(a(22),a.p+"static/media/recovered.9bc7cf05.png"),p=a.p+"static/media/infected.8ad205b8.png",b=a.p+"static/media/dead.740185e1.png",m=a(44),x=function(e){if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},O=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={confirmed:0,recovered:0,deaths:0,loading:!0},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t,a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://covid19.mathdro.id/api/countries/".concat(this.props.name));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.confirmed,c=a.recovered,s=a.deaths,n&&c&&s?this.setState({confirmed:n.value,recovered:c.value,deaths:s.value,loading:!1}):this.setState({loading:!1}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),Error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.loading)return Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{})});var e=this.state,t=e.recovered,a=e.deaths,c=e.confirmed;return Object(n.jsxs)("div",{className:"country",children:[Object(n.jsx)("h2",{className:"country__name",children:this.props.name}),Object(n.jsxs)("div",{className:"country__details",children:[Object(n.jsxs)("div",{className:"country__details-data",children:[Object(n.jsx)("img",{src:p,alt:"",className:"country__details--icon"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"infected: "}),x(c)]})]}),Object(n.jsxs)("div",{className:"country__details-data",children:[Object(n.jsx)("img",{src:b,alt:"",className:"country__details--icon"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"dead: "}),x(a)]})]}),Object(n.jsxs)("div",{className:"country__details-data",children:[Object(n.jsx)("img",{src:v,alt:"",className:"country__details--icon"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"recovered: "}),x(t)]})]})]})]})}}]),a}(c.Component),g=(a(27),a(28),c.Component,a(11),a(29),function(e){var t=e.title,a=e.data;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h1",{className:"card-title",children:t}),Object(n.jsx)("h2",{className:"card-data",children:x(a)})]})});function y(e){var t=e.data;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(g,{title:"Fallecidos",data:t[0]},1),Object(n.jsx)(g,{title:"Contagiados",data:t[2]},2),Object(n.jsx)(g,{title:"Recuperados",data:t[1]},3)]})}var _=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeText=function(e){var t=n.state.allData.countries;console.log(e.target.value);var a=t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));console.log(a)},n.state={data:[],allData:[],loading:!0,infected:0,recovered:0,deaths:0},console.log("Constructor called"),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchGlobal()}},{key:"fetchData",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchData called"),e.next=3,fetch("https://covid19.mathdro.id/api/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({data:a,allData:a,loading:!1}),console.log("state logged in fetch",this.state);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchGlobal",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t,a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid19.mathdro.id/api/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.confirmed,c=a.recovered,s=a.deaths,console.log("data from fetchglobal",n,c,s),this.setState({confirmed:n.value,recovered:c.value,deaths:s.value}),console.log("state from global",this.state);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(console.log("Render method called"),console.log("Data logged in render",this.state),this.state.loading)return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(m.a,{})});var e=this.state.data.countries;return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(y,{data:[this.state.deaths,this.state.recovered,this.state.confirmed]}),e.map((function(e){return Object(n.jsx)(O,{name:e.name},e.iso2)}))]})}}]),a}(c.Component);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d6ccf007.chunk.js.map