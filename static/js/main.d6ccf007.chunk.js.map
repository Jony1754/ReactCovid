{"version":3,"sources":["assets/recovered.png","assets/infected.png","assets/dead.png","utils/numberWithCommas.js","components/Country.jsx","components/Card.jsx","components/Search.jsx","components/CardContainer.jsx","components/App.jsx","index.js"],"names":["numberWithCommas","x","toString","replace","Country","state","confirmed","recovered","deaths","loading","this","fetchData","fetch","props","name","response","json","setState","value","Error","CircularProgress","className","src","infectedIMG","alt","deadIMG","recoveredIMG","Component","Card","title","data","CardContainer","App","handleChangeText","query","countries","allData","console","log","target","dataFiltered","filter","country","toLowerCase","includes","infected","fetchGlobal","res","map","item","iso2","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6ccf007.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/recovered.9bc7cf05.png\";","export default __webpack_public_path__ + \"static/media/infected.8ad205b8.png\";","export default __webpack_public_path__ + \"static/media/dead.740185e1.png\";","const numberWithCommas = (x) => {\r\n  if (x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n};\r\n\r\nexport default numberWithCommas;\r\n","import React, { Component } from \"react\";\r\nimport \"../assets/styles/Country.scss\";\r\nimport recoveredIMG from \"../assets/recovered.png\";\r\nimport infectedIMG from \"../assets/infected.png\";\r\nimport deadIMG from \"../assets/dead.png\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport numberWithCommas from \"../utils/numberWithCommas\";\r\nclass Country extends Component {\r\n  // name = \"Colombia\",\r\n  // infected = 3000000,\r\n  // dead = 10000,\r\n  // recovered = 1000,\r\n\r\n  state = {\r\n    confirmed: 0,\r\n    recovered: 0,\r\n    deaths: 0,\r\n    loading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n    try {\r\n      const response = await fetch(\r\n        `https://covid19.mathdro.id/api/countries/${this.props.name}`\r\n      );\r\n      const json = await response.json();\r\n      const { confirmed, recovered, deaths } = json;\r\n      if (confirmed && recovered && deaths) {\r\n        this.setState({\r\n          confirmed: confirmed.value,\r\n          recovered: recovered.value,\r\n          deaths: deaths.value,\r\n          loading: false,\r\n        });\r\n      } else {\r\n        this.setState({ loading: false });\r\n      }\r\n    } catch (err) {\r\n      throw Error(err);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div>\r\n          <CircularProgress />\r\n        </div>\r\n      );\r\n    }\r\n    const { recovered, deaths, confirmed } = this.state;\r\n    return (\r\n      <div className=\"country\">\r\n        <h2 className=\"country__name\">{this.props.name}</h2>\r\n        <div className=\"country__details\">\r\n          <div className=\"country__details-data\">\r\n            <img src={infectedIMG} alt=\"\" className=\"country__details--icon\" />\r\n            <p>\r\n              <strong>infected: </strong>\r\n              {numberWithCommas(confirmed)}\r\n            </p>\r\n          </div>\r\n          <div className=\"country__details-data\">\r\n            <img src={deadIMG} alt=\"\" className=\"country__details--icon\" />\r\n            <p>\r\n              <strong>dead: </strong>\r\n              {numberWithCommas(deaths)}\r\n            </p>\r\n          </div>\r\n          <div className=\"country__details-data\">\r\n            <img src={recoveredIMG} alt=\"\" className=\"country__details--icon\" />\r\n            <p>\r\n              <strong>recovered: </strong>\r\n              {numberWithCommas(recovered)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Country;\r\n","import React from \"react\";\r\nimport \"../assets/styles/Card.scss\";\r\nimport CountUp from \"react-countup\";\r\nimport numberWithCommas from \"../utils/numberWithCommas\";\r\nconst Card = ({ title, data }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <h1 className=\"card-title\">{title}</h1>\r\n      <h2 className=\"card-data\">{numberWithCommas(data)}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { Component } from \"react\";\r\nimport \"../assets/styles/Search.scss\";\r\n\r\nexport class Search extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChange = (query) => {\r\n    this.setState({ query: query.target.value });\r\n    // console.log(query.target.value);\r\n    if (this.props.changeText) {\r\n      this.props.changeText(query);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <section className=\"main\">\r\n        <h2 className=\"main__title\">Buscar</h2>\r\n        <div className=\"input__container\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"input\"\r\n            placeholder=\"Nombre del pais\"\r\n            onChange={this.handleChange}\r\n            value={this.state.query}\r\n          />\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport \"../assets/styles/Card.scss\";\r\nexport default function CardContainer({ data }) {\r\n  return (\r\n    <div className=\"container\">\r\n      <Card title=\"Fallecidos\" data={data[0]} key={1} />\r\n      <Card title=\"Contagiados\" data={data[2]} key={2} />\r\n      <Card title=\"Recuperados\" data={data[1]} key={3} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Country from \"./Country\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport \"../assets/styles/App.scss\";\r\nimport Search from \"./Search\";\r\nimport CardContainer from \"./CardContainer\";\r\nexport class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      allData: [],\r\n      loading: true,\r\n      infected: 0,\r\n      recovered: 0,\r\n      deaths: 0,\r\n    };\r\n    console.log(\"Constructor called\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n    this.fetchGlobal();\r\n  }\r\n\r\n  async fetchData() {\r\n    console.log(\"fetchData called\");\r\n    const res = await fetch(\"https://covid19.mathdro.id/api/countries\");\r\n    const data = await res.json();\r\n    this.setState({ data, allData: data, loading: false });\r\n    console.log(\"state logged in fetch\", this.state);\r\n  }\r\n\r\n  async fetchGlobal() {\r\n    const res = await fetch(\"https://covid19.mathdro.id/api/\");\r\n    const data = await res.json();\r\n    const { confirmed, recovered, deaths } = data;\r\n    console.log(\"data from fetchglobal\", confirmed, recovered, deaths);\r\n    this.setState({\r\n      confirmed: confirmed.value,\r\n      recovered: recovered.value,\r\n      deaths: deaths.value,\r\n    });\r\n    console.log(\"state from global\", this.state);\r\n  }\r\n\r\n  handleChangeText = (query) => {\r\n    const countries = this.state.allData.countries;\r\n    console.log(query.target.value);\r\n    const dataFiltered = countries.filter((country) => {\r\n      return country.name\r\n        .toLowerCase()\r\n        .includes(query.target.value.toLowerCase());\r\n    });\r\n    console.log(dataFiltered);\r\n    // this.setState({ data: dataFiltered });\r\n    // console.log(\"countries in handlechange\", countries);\r\n    // console.log(countries[1].name.toString().toLowerCase());\r\n  };\r\n\r\n  render() {\r\n    console.log(\"Render method called\");\r\n    console.log(\"Data logged in render\", this.state);\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"app\">\r\n          <CircularProgress />\r\n        </div>\r\n      );\r\n    } else {\r\n      const countries = this.state.data.countries;\r\n      return (\r\n        <div className=\"app\">\r\n          <CardContainer\r\n            data={[\r\n              this.state.deaths,\r\n              this.state.recovered,\r\n              this.state.confirmed,\r\n            ]}\r\n          />\r\n          {countries.map((item) => {\r\n            return <Country name={item.name} key={item.iso2} />;\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}